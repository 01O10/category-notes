<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>category - 2&nbsp; Associativity and its Role in Categories</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./functions.html" rel="next">
<link href="./fundamentals.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./fundamentals.html">Fundamentals</a></li><li class="breadcrumb-item"><a href="./category_theory.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Associativity and its Role in Categories</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">category</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Understanding Category Theory, Type Theory, and Logic</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./fundamentals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fundamentals</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./category_theory.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Associativity and its Role in Categories</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Relations and Functions</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#is-it-possible-to-have-non-associative-theories" id="toc-is-it-possible-to-have-non-associative-theories" class="nav-link active" data-scroll-target="#is-it-possible-to-have-non-associative-theories"><span class="header-section-number">2.1</span> Is it Possible to Have Non-Associative Theories?</a>
  <ul class="collapse">
  <li><a href="#example-floating-point-arithmetic" id="toc-example-floating-point-arithmetic" class="nav-link" data-scroll-target="#example-floating-point-arithmetic"><span class="header-section-number">2.1.1</span> Example: Floating Point Arithmetic</a></li>
  </ul></li>
  <li><a href="#categories-vs.-groups" id="toc-categories-vs.-groups" class="nav-link" data-scroll-target="#categories-vs.-groups"><span class="header-section-number">2.2</span> Categories vs.&nbsp;Groups</a></li>
  <li><a href="#programming-and-category-theory" id="toc-programming-and-category-theory" class="nav-link" data-scroll-target="#programming-and-category-theory"><span class="header-section-number">3</span> Programming and Category Theory</a>
  <ul class="collapse">
  <li><a href="#the-category-of-types" id="toc-the-category-of-types" class="nav-link" data-scroll-target="#the-category-of-types"><span class="header-section-number">3.1</span> The Category of Types</a>
  <ul class="collapse">
  <li><a href="#special-case-in-haskell" id="toc-special-case-in-haskell" class="nav-link" data-scroll-target="#special-case-in-haskell"><span class="header-section-number">3.1.1</span> Special Case in Haskell</a></li>
  </ul></li>
  <li><a href="#types-as-sets" id="toc-types-as-sets" class="nav-link" data-scroll-target="#types-as-sets"><span class="header-section-number">3.2</span> Types as Sets</a></li>
  </ul></li>
  <li><a href="#building-a-category-from-sets" id="toc-building-a-category-from-sets" class="nav-link" data-scroll-target="#building-a-category-from-sets"><span class="header-section-number">4</span> Building a Category from Sets</a>
  <ul class="collapse">
  <li><a href="#set-theory-and-categories" id="toc-set-theory-and-categories" class="nav-link" data-scroll-target="#set-theory-and-categories"><span class="header-section-number">4.1</span> Set Theory and Categories</a>
  <ul class="collapse">
  <li><a href="#forgetting-internal-structure" id="toc-forgetting-internal-structure" class="nav-link" data-scroll-target="#forgetting-internal-structure"><span class="header-section-number">4.1.1</span> Forgetting Internal Structure</a></li>
  <li><a href="#composition-of-functions" id="toc-composition-of-functions" class="nav-link" data-scroll-target="#composition-of-functions"><span class="header-section-number">4.1.2</span> Composition of Functions</a></li>
  <li><a href="#identity-function" id="toc-identity-function" class="nav-link" data-scroll-target="#identity-function"><span class="header-section-number">4.1.3</span> Identity Function</a></li>
  </ul></li>
  <li><a href="#the-category-of-sets-set-theory" id="toc-the-category-of-sets-set-theory" class="nav-link" data-scroll-target="#the-category-of-sets-set-theory"><span class="header-section-number">4.2</span> The Category of Sets (Set Theory)</a>
  <ul class="collapse">
  <li><a href="#forgetting-the-structure" id="toc-forgetting-the-structure" class="nav-link" data-scroll-target="#forgetting-the-structure"><span class="header-section-number">4.2.1</span> Forgetting the Structure</a></li>
  <li><a href="#composition-table" id="toc-composition-table" class="nav-link" data-scroll-target="#composition-table"><span class="header-section-number">4.2.2</span> Composition Table</a></li>
  </ul></li>
  <li><a href="#abstraction-and-data-hiding" id="toc-abstraction-and-data-hiding" class="nav-link" data-scroll-target="#abstraction-and-data-hiding"><span class="header-section-number">4.3</span> Abstraction and Data Hiding</a>
  <ul class="collapse">
  <li><a href="#the-ultimate-in-abstraction" id="toc-the-ultimate-in-abstraction" class="nav-link" data-scroll-target="#the-ultimate-in-abstraction"><span class="header-section-number">4.3.1</span> The Ultimate in Abstraction</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">5</span> Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Associativity and its Role in Categories</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="is-it-possible-to-have-non-associative-theories" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="is-it-possible-to-have-non-associative-theories"><span class="header-section-number">2.1</span> Is it Possible to Have Non-Associative Theories?</h2>
<p>In category theory, associativity is an important property. When combining elements in a category, you can associate them in different ways, but as long as associativity holds, the result will be the same. This property makes working with categories manageable and consistent.</p>
<p>But what if we didn’t require strict associativity? Is it still possible to have a valid theory? The answer is yes. There are areas in mathematics where associativity is <strong>weakened</strong>: the two different ways of combining things aren’t identical, but they are <strong>isomorphic</strong>. This means they are related in a way that one can be transformed into the other.</p>
<section id="example-floating-point-arithmetic" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="example-floating-point-arithmetic"><span class="header-section-number">2.1.1</span> Example: Floating Point Arithmetic</h3>
<p>For example, in floating point arithmetic, the order of operations may result in slightly different results due to the finite precision of calculations. This does not form a valid category since strict associativity is required for categories.</p>
</section>
</section>
<section id="categories-vs.-groups" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="categories-vs.-groups"><span class="header-section-number">2.2</span> Categories vs.&nbsp;Groups</h2>
<p>The structure described in category theory shares some similarities with <strong>groups</strong>, but it is more general. A <strong>group</strong> is a type of <strong>monoid</strong> with an added property: every element has an inverse.</p>
<p>If every morphism (arrow) in a category has an inverse, the category becomes a <strong>groupoid</strong>. A <strong>groupoid</strong> is more general than a group because a group only has one object with its operations, whereas a category can have multiple objects with morphisms between them.</p>
<p>The distinction between groups and categories is that in a category, not all objects can be composed with each other. The ability to compose objects depends on whether the end of one morphism matches the start of another.</p>
</section>
<section id="programming-and-category-theory" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Programming and Category Theory</h1>
<section id="the-category-of-types" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="the-category-of-types"><span class="header-section-number">3.1</span> The Category of Types</h2>
<p>A practical example of category theory comes from programming languages such as <strong>Haskell</strong> and <strong>ML</strong>. In these languages, types can be treated as <strong>objects</strong>, and <strong>functions</strong> between types are the <strong>morphisms</strong> of the category.</p>
<p>In these programming categories, a function from type <code>A</code> to type <code>B</code> is considered an arrow or morphism from object <code>A</code> to object <code>B</code>.</p>
<section id="special-case-in-haskell" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="special-case-in-haskell"><span class="header-section-number">3.1.1</span> Special Case in Haskell</h3>
<p>In <strong>Haskell</strong>, things are slightly more complicated due to the concept of <strong>laziness</strong>. In Haskell, every type contains an undefined value (<code>bottom</code>) which represents non-terminating computations. This introduces a level of complexity that is not typically considered in pure category theory, as categories don’t account for time or infinite loops in computation.</p>
</section>
</section>
<section id="types-as-sets" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="types-as-sets"><span class="header-section-number">3.2</span> Types as Sets</h2>
<p>In some programming languages like <strong>ML</strong>, types can be viewed as <strong>sets</strong> of values. The functions between these types are simply <strong>functions between sets</strong>. This simplification works well in languages that don’t have infinite loops or non-terminating computations, unlike Haskell.</p>
<p>Thus, we can model a category of types as a <strong>category of sets</strong>. In this model, functions are the morphisms, and types are sets of values. A function from type <code>A</code> to type <code>B</code> becomes a mathematical function between sets <code>A</code> and <code>B</code>.</p>
</section>
</section>
<section id="building-a-category-from-sets" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Building a Category from Sets</h1>
<section id="set-theory-and-categories" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="set-theory-and-categories"><span class="header-section-number">4.1</span> Set Theory and Categories</h2>
<p>To build a category, you start with <strong>sets</strong>. In set theory, each set contains elements, and functions between sets are simply mappings from elements of one set to another. From this perspective, you can form a category where:</p>
<ul>
<li>The <strong>objects</strong> are the sets.</li>
<li>The <strong>morphisms</strong> are the functions between the sets.</li>
</ul>
<section id="forgetting-internal-structure" class="level3" data-number="4.1.1">
<h3 data-number="4.1.1" class="anchored" data-anchor-id="forgetting-internal-structure"><span class="header-section-number">4.1.1</span> Forgetting Internal Structure</h3>
<p>Once the category is created, the internal structure of the sets is forgotten. All that remains are the <strong>morphisms</strong> that relate the sets to each other. The <strong>composition</strong> of these morphisms follows the rules of category theory, with <strong>associativity</strong> and <strong>identity</strong> being central properties.</p>
</section>
<section id="composition-of-functions" class="level3" data-number="4.1.2">
<h3 data-number="4.1.2" class="anchored" data-anchor-id="composition-of-functions"><span class="header-section-number">4.1.2</span> Composition of Functions</h3>
<p>Function composition in set theory is simply the act of applying one function to the result of another. If <code>f: A -&gt; B</code> and <code>g: B -&gt; C</code>, then the composition <code>g ∘ f</code> is a function that takes <code>A</code> to <code>C</code>.</p>
<ul>
<li>If <code>x</code> is an element of set <code>A</code>, <code>f(x)</code> is an element of set <code>B</code>.</li>
<li>Then <code>g(f(x))</code> is an element of set <code>C</code>.</li>
</ul>
</section>
<section id="identity-function" class="level3" data-number="4.1.3">
<h3 data-number="4.1.3" class="anchored" data-anchor-id="identity-function"><span class="header-section-number">4.1.3</span> Identity Function</h3>
<p>Each set also has an <strong>identity function</strong>. This is a function that maps each element of a set to itself. The identity function acts as a neutral element in function composition: when composed with any other function, it leaves that function unchanged.</p>
<ul>
<li>In a category, the identity function corresponds to an <strong>identity morphism</strong>.</li>
<li>For any morphism <code>f</code>, composing it with the identity morphism gives back the original morphism: <code>f ∘ id_A = f</code> and <code>id_B ∘ f = f</code>.</li>
</ul>
</section>
</section>
<section id="the-category-of-sets-set-theory" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="the-category-of-sets-set-theory"><span class="header-section-number">4.2</span> The Category of Sets (Set Theory)</h2>
<p>This category, called <strong>Set</strong>, consists of sets and functions between them. The creation of the category <strong>Set</strong> follows a process where the internal structure of the sets and their elements is forgotten. We only care about the <strong>morphisms</strong> (functions) and their composition.</p>
<section id="forgetting-the-structure" class="level3" data-number="4.2.1">
<h3 data-number="4.2.1" class="anchored" data-anchor-id="forgetting-the-structure"><span class="header-section-number">4.2.1</span> Forgetting the Structure</h3>
<p>Once you form a category, you forget about the internal structure of the objects. The objects (sets) become “atoms” with no internal properties, and you focus solely on how they are connected to other objects through morphisms (functions).</p>
<ul>
<li>In the category <strong>Set</strong>, sets are objects, and the morphisms are functions between them.</li>
<li>You build a <strong>multiplication table</strong> (composition table) that defines how these morphisms can be composed, and this composition follows the axioms of category theory (associativity, identity).</li>
</ul>
</section>
<section id="composition-table" class="level3" data-number="4.2.2">
<h3 data-number="4.2.2" class="anchored" data-anchor-id="composition-table"><span class="header-section-number">4.2.2</span> Composition Table</h3>
<p>In the category of sets, you can think of each function between two sets as an arrow. The composition of these arrows is simply the composition of the functions. The identity function for each set ensures that the composition works according to the rules of category theory.</p>
</section>
</section>
<section id="abstraction-and-data-hiding" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="abstraction-and-data-hiding"><span class="header-section-number">4.3</span> Abstraction and Data Hiding</h2>
<p>Category theory represents a higher level of abstraction. Once you form a category from sets, you forget about the internal elements of the sets. You are left with the <strong>interface</strong> of each object — how it connects to other objects through morphisms.</p>
<p>This abstraction represents the <strong>end of the road for data hiding</strong>: you don’t need to know what the internal structure of a set is, only how it connects with other sets. This is similar to the idea of <strong>data hiding</strong> in programming, where you only expose the relevant interface of a data structure.</p>
<section id="the-ultimate-in-abstraction" class="level3" data-number="4.3.1">
<h3 data-number="4.3.1" class="anchored" data-anchor-id="the-ultimate-in-abstraction"><span class="header-section-number">4.3.1</span> The Ultimate in Abstraction</h3>
<p>Category theory provides a powerful tool for studying mathematical structures at a high level of abstraction. It allows us to work with objects and morphisms without worrying about the specifics of their internal construction. It is, in a sense, the ultimate language for abstraction.</p>
</section>
</section>
</section>
<section id="conclusion" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Conclusion</h1>
<p>Category theory offers a framework for thinking about mathematical structures and their relationships in an abstract, high-level way. By focusing on morphisms and their composition, we can study the properties of objects without needing to understand their internal details. This approach to abstraction leads to new insights into mathematics and computation, ultimately enabling a deeper understanding of how various structures are interconnected.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./fundamentals.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Fundamentals</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./functions.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Relations and Functions</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>